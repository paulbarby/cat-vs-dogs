<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat vs. Dogs! - JavaScript Game</title>
    <link rel="stylesheet" href="style.css">
    <script>
        // Mobile detection function (simple version)
        function isMobileDevice() {
            // Basic check, adjust if needed for more accuracy
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }

        // Function to get appropriate game URL
        function getGameUrl() {
            // *** IMPORTANT: Update these filenames if yours are different ***
            return isMobileDevice() ? 'mobile.html' : 'game/index.html';
        }

        // Function to handle play button clicks
        function handlePlayClick(event) {
            event.preventDefault(); // Prevent default link behavior
            window.location.href = getGameUrl(); // Redirect to the correct game version
        }

        // Add click handlers when document loads
        document.addEventListener('DOMContentLoaded', () => {
            const playButtons = document.querySelectorAll('.play-button, .play-button-alt');
            playButtons.forEach(button => {
                // Ensure we remove any previous listeners if script runs multiple times (unlikely here but good practice)
                button.removeEventListener('click', handlePlayClick);
                button.addEventListener('click', handlePlayClick);
            });

            // Update footer year
            const yearSpan = document.getElementById('year');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }
        });
    </script>
    <style>
        /* Optional: Simple style for the development notice */
        .development-notice {
            background-color: #fffbeb; /* Light yellow */
            border: 1px solid #fde68a; /* Yellow border */
            border-radius: 6px;
            padding: 10px 15px;
            margin: 15px 0;
            font-size: 0.9em;
            color: #713f12; /* Darker text */
        }
        .development-notice strong {
            color: #92400e;
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Cat vs. Dogs! üêà vs üêï</h1>
            <p class="tagline">A Pac-Man style arcade game built with Vanilla JavaScript and AI Assistance.</p> 
        </header>

        <main>
            <section id="intro">
                <h2>Welcome!</h2>

               
                <div class="development-notice">
                    <p><strong>Development Note:</strong> This game was created as a learning experiment exploring AI-assisted development. I collaborated with Google's Gemini model, providing the design, requirements, and iterative feedback while the AI generated and refined the code. It's fully playable but serves primarily as a demonstration of this collaborative process.</p>
                </div>
               

                <p>Experience a fun twist on the classic arcade game! Instead of Pac-Man, you're a crafty Cat (`üêà`) navigating a maze. Your goal? Eat all the delicious cat food (`üêæ`) scattered throughout.</p>
                <p>But watch out! A pack of determined Dogs (each with a unique look: `üêï`, `üê©`, `ü¶Æ`, `üêï‚Äçü¶∫`) are hot on your tail, using pathfinding AI to track you down.</p> 
            </section>

            <section id="gameplay">
                <h2>How to Play</h2>
                <ul>
                    <li><strong>Move:</strong> Use the <strong>Arrow Keys</strong> (Desktop) or the **on-screen D-pad** (Mobile) to guide the cat.</li>
                    <li><strong>Objective:</strong> Eat all the small dots (`üêæ`) on the screen to complete the level.</li>
                    <li><strong>Avoid:</strong> Don't let the dogs catch you!</li>
                    <li><strong>Power Up!:</strong> Grab the fish (`üêü`) to gain temporary power. While powered up, the dogs become vulnerable (`ü¶¥`).</li>
                    <li><strong>Turn the Tables:</strong> Catch vulnerable dogs to send them back to the central pound and score big bonus points!</li>
                    <li><strong>Screen Wrap:</strong> Watch the edges! If there's no wall, moving off one side will make you appear on the opposite side.</li> 
                    <li><strong>Levels & Lives:</strong> Survive through 5 levels of increasing difficulty. You start with 5 lives. Lose them all, and it's game over!</li>
                </ul>
                 <div class="controls">
                   
                    <a href="#" class="button play-button">Play Now!</a>
                 </div>
            </section>

            <section id="screenshots">
                <h2>Screenshots</h2>
                <div class="screenshot-gallery">
                    
                    <div class="img-placeholder">
                        <img src="assets/screenshot1.jpg" alt="Main menu">
                        <span>Main menu</span>
                    </div>
                    <div class="img-placeholder">
                         <img src="assets/screenshot2.jpg" alt="Level 1 Gameplay">
                        <span>Level 1 Gameplay</span>
                    </div>
                    <div class="img-placeholder">
                        <img src="assets/screenshot3.jpg" alt="Mobile Controls">
                        <span>Mobile Controls</span> 
                    </div>
                </div>
            </section>

            
             <section id="development-process">
                <h2>The Development Process (AI Collaboration)</h2>
                <p>This game was developed as a test/learning project through an iterative collaboration between myself and Google's Gemini model:</p>
                <ol> 
                    <li><strong>Blueprint & Prompting:</strong> I started by creating a detailed prompt outlining the game concept, mechanics (Pac-Man style, cat/dog theme, power-ups, scoring), technical stack (Vanilla JS, Canvas), UI requirements, AI behavior ideas, and level structure.</li>
                    <li><strong>Initial Code Generation:</strong> Gemini generated the initial HTML, CSS, and JavaScript code based on the prompt.</li>
                    <li><strong>Testing & Debugging:</strong> I tested the initial output and identified critical bugs (like wall collisions failing and incorrect icons). I reported these specific issues back.</li>
                    <li><strong>Refinement & Refactoring:</strong> Gemini refactored the core movement and collision logic significantly, fixing the reported bugs.</li>
                    <li><strong>Iterative Feature Addition:</strong> I requested further features and refinements sequentially:
                        <ul>
                            <li>Specific speed adjustments for cat and dogs.</li>
                            <li>Sound effects (using Web Audio API) and a sound toggle.</li>
                            <li>An "Exit to Menu" button.</li>
                            <li>Sophisticated dog AI using A* pathfinding, including dynamic targetting (cat, home, flee), level-based recalculation timing, and fallback behaviors.</li>
                            <li>Screen wrapping for all four edges.</li>
                            <li>Mobile-specific enhancements like fullscreen, on-screen controls, and separate mobile version handling.</li>
                            <li>Fixes for rendering inconsistencies (like the wall emoji on iOS, leading to font stack attempts).</li>
                        </ul>
                    </li>
                     <li><strong>Bug Fixing:</strong> Throughout the process, subtle bugs were identified (e.g., dogs stopping just before home) which required specific debugging and code adjustments provided by the AI based on my reports.</li>
                </ol>
                <p>This project demonstrates the potential of AI-assisted coding for rapid prototyping and implementing complex features, while also highlighting the crucial role of clear specifications, testing, and iterative feedback from the human developer. It served as a valuable learning exercise in both game development and AI collaboration.</p>
            </section>
           


            <section id="links">
                 <h2>Links</h2>
                 <div class="controls">
                     <a href="#" class="button play-button-alt">Play Game</a> 
                     <a href="https://github.com/paulbarby/cat-vs-dogs" class="button github-button" target="_blank" rel="noopener noreferrer">View on GitHub</a>
                 </div>
            </section>
        </main>

        <footer>
            
            <p>¬© <span id="year"></span> Paul Barby - Cat vs. Dogs! An AI-assisted development experiment.</p>
        </footer>
    </div>

    <script> document.getElementById('year').textContent = new Date().getFullYear(); </script>

</body>
</html>